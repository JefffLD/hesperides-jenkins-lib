language: python
python: "3.6"
install: pip install pre-commit
script:
- pre-commit run --all-files
- cat docs/header.html vars/hesperides.txt docs/footer.html > index.html
deploy:
  - provider: pages
    skip-cleanup: true
    github-token: $GITHUB_TOKEN  # Set in travis-ci.org dashboard, marked secure, named "TravisCI for hesperides-jenkins-lib" and associated with user Lucas-C
    keep-history: true
    on:
      branch: host_docs_on_github_pages  # TODO: master
    target-branch: gh-pages